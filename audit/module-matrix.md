# Module Matrix (TS .js specifiers)

| package                    | type                | tsconfig.module                       | runtime                                                 | bundled?                                       | has .js specifiers? | recommendation                                                                                                                   |
| -------------------------- | ------------------- | ------------------------------------- | ------------------------------------------------------- | ---------------------------------------------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| `services/api`             | `module`            | `ESNext` (moduleResolution `Bundler`) | `node dist/main.js` (prod), esbuild watch dev           | **Yes** (esbuild available, not default build) | Yes                 | Switch default build to bundler (`node build.mjs`) so runtime never sees internal specifiers; keep `tsc --noEmit` for typecheck. |
| `packages/email-templates` | default (no `type`) | `ESNext` (moduleResolution `Bundler`) | Used as workspace library in worker via package exports | **Yes** (`tsdown` outputs ESM+CJS + dts)       | Yes                 | Keep tsdown bundling; remove .js specifiers in source (safe).                                                                    |
